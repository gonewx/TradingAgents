请对股票 $ARGUMENTS 进行完整的交易分析。

## 🔧 重要：数据获取优先级
1. **必须优先使用** 项目 TradingAgents MCP 服务器 (`mcp__trading__*` 工具) 获取所有数据
2. **必须使用** 项目配置的专用 subagents，它们有 MCP 工具访问权限
3. **严格按照** 四阶段流程顺序执行，每阶段完成后才进入下一阶段

## 🚨 统一错误处理协议

### 错误监控和决策
作为主协调器，你必须：
1. **监控每个subagent的错误报告**
2. **评估分析整体可行性**
3. **做出继续/终止/降级的统一决策**
4. **向用户提供清晰的状态说明**

### 关键错误检测
当subagent报告以下错误时，立即评估：
- `ALL_SOURCES_FAILED` - 数据源完全失效
- `API_LIMIT_EXCEEDED` - API调用限额耗尽  
- `VERIFICATION_FAILED` - 基础验证失败
- `DATA_INCONSISTENCY` - 严重数据冲突

### 决策矩阵
```
错误严重程度评估：
┌────────────────────┬─────────────┬─────────────────────┐
│ 错误类型            │ 影响阶段     │ 处理策略             │
├────────────────────┼─────────────┼─────────────────────┤
│ 基础验证失败         │ 所有阶段     │ 🛑 立即终止         │
│ 数据源部分失败       │ 对应阶段     │ ⚠️ 降级分析         │
│ API限额耗尽         │ 当前阶段     │ 🔄 稍后重试         │
│ 数据轻微不一致       │ 局部影响     │ ✅ 继续但标记风险   │
└────────────────────┴─────────────┴─────────────────────┘
```

### 终止条件 (立即停止所有分析)
1. **data-validator报告严重失败** - 无法建立事实基础
2. **超过3个关键subagent失败** - 分析可靠性严重受损
3. **MCP服务器完全不可用** - 所有数据源中断

### 降级分析策略
当部分subagent失败但不满足终止条件时：

**降级级别1 - 轻度降级**：
- 1-2个非关键subagent失败
- 继续分析但在最终报告中明确标记数据缺陷
- 降低相应分析结论的置信度

**降级级别2 - 中度降级**：
- 关键数据源部分失效（如新闻数据不可用）
- 基于现有数据进行简化分析
- 明确警告分析的局限性

### 错误报告和用户沟通
当检测到错误时，必须向用户提供：

```markdown
## ⚠️ 分析状态报告

**当前状态**: 继续分析 | 降级分析 | 已终止
**数据完整性**: X% 完整
**影响的分析维度**: [技术面/基本面/情绪面/新闻面]

### 检测到的问题
- 问题1: [具体描述和影响]
- 问题2: [具体描述和影响]

### 分析可靠性
- **技术分析**: 高/中/低/无法分析
- **基本面分析**: 高/中/低/无法分析  
- **新闻分析**: 高/中/低/无法分析
- **情绪分析**: 高/中/低/无法分析

### 建议
基于当前数据质量，建议: [具体建议]
```

## 0. 基础验证阶段 (关键新增)
**必须首先调用** 基础验证专家建立事实基础：
- **data-validator**: 验证股票代码有效性，确认公司名称、行业分类，建立标准化事实档案。

**错误处理**: 如果data-validator报告验证失败，必须立即终止分析流程并向用户说明原因。

## 1. 数据收集阶段
**必须调用** 项目专用分析师团队收集多维度数据：
- **market-analyst**: 使用 `mcp__trading__*` 工具获取技术指标和价格趋势，验证公司身份
- **fundamentals-analyst**: 使用 `mcp__trading__*` 工具分析财务数据和基本面，确认公司信息
- **news-analyst**: 使用 `mcp__trading__*` 工具收集新闻和宏观经济数据，检查新闻相关性
- **social-analyst**: 使用 `mcp__trading__*` 工具分析社交媒体情绪

**数据收集完成后必须调用**：
- **cross-validator**: 验证各分析师数据的一致性，检测并解决数据冲突

**错误处理**: 收集各subagent的错误报告，如果超过2个关键分析师失败，考虑降级分析或终止流程。

## 2. 研究辩论阶段
**必须调用** 项目专用研究团队进行结构化辩论：
- **bull-researcher**: 基于MCP数据和验证事实提供看涨分析和买入理由
- **bear-researcher**: 基于MCP数据和验证事实提供看跌分析和风险警示
- **research-manager**: 综合牛熊观点，制定平衡的投资研究计划

**错误处理**: 如果bull-researcher或bear-researcher因数据问题无法提供分析，基于可用数据进行单方面分析，但必须在结论中明确标记风险。

## 3. 交易决策阶段  
**必须调用** 项目专用决策团队：
- **trader**: 综合所有分析报告和MCP记忆数据，做出最终交易决策
- **risk-manager**: 评估交易决策的风险并提供风险调整建议
- **portfolio-manager**: 根据风险评估做出最终交易批准或拒绝

**决策完成后必须调用**：
- **quality-controller**: 对最终分析报告进行全面质量检查，验证事实准确性和逻辑一致性

**错误处理**: 如果前面阶段的数据问题严重影响决策可靠性，trader和risk-manager可能建议"暂缓交易"或"数据不足，无法决策"。

## 4. 输出格式
最终提供：
- **交易建议**: 买入/持有/卖出/暂缓决策
- **置信度**: 高/中/低/数据不足
- **关键理由**: 3-5个要点
- **风险提示**: 主要风险因素
- **建议仓位**: 占投资组合比例
- **数据完整性**: 标明任何数据缺陷对结论的影响

## 🔄 错误处理实际执行示例

当遇到bear-researcher报告`ALL_SOURCES_FAILED`错误时：

1. **立即评估影响**: 新闻数据不可用，影响风险分析维度
2. **调整分析策略**: 继续技术和基本面分析，但风险评估降级
3. **向用户报告**:
   ```
   ⚠️ 检测到数据获取问题：所有新闻数据源失败
   📊 当前分析状态：降级分析 (数据完整性: 75%)
   🔍 可继续维度：技术分析、基本面分析
   ❌ 受影响维度：新闻情绪分析、部分风险评估
   ```
4. **调整输出**:
   - 置信度从"高"降级到"中"
   - 在风险提示中添加"数据不完整风险"
   - 建议仓位保守化

请确保分析全面、客观，并考虑多方面因素。如遇到数据问题，严格按照错误处理协议执行。